<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>tree</title>
		<link href="./css/reset.css" rel="stylesheet" type="text/css"/>
		<script src="./js/d3.v5.js"></script>
	</head>
	<body>
		<svg width="960" height="600"></svg>
		<script>
			const marge = {top:60,bottom:60,left:60,right:60}//设置边距
			const dataset = [ 2.5 , 2.1 , 1.7 , 1.3 , 0.9 ];  //数据（表示矩形的宽度）
      
      const scaleLinear = d3.scaleLinear()
                         .domain([0,d3.max(dataset)])   
                         .range([0,300])
      const svg = d3.select('svg')
      
      const g = svg.append('g')
                .attr('transform',`translate(${marge.top},${marge.left})`)

      
      var rectHeight = 30;         
      g.selectAll("rect")
    		.data(dataset)
    		.enter()
    		.append("rect")
    		.attr("x",20)
    		.attr("y",function(d,i){
    			return i*rectHeight;
    		})
    		.attr("width",function(d){
    			return scaleLinear(d);//设置宽,并在这里使用比例尺
    		})
    		.attr("height",rectHeight-5)
        .attr("fill","blue");
        
		</script>
		
	</body>
</html>
 