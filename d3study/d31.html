<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="https://d3js.org/d3.v5.js"></script>
		<link href="./css/reset.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
		<div id="svg"></div>
		<script>
			const dataset = [50,43,87,99,167,142];
			const width = 400;
			const height = 400; //定义svg的宽高
			const svg = d3.select("#svg").append("svg").attr("height",height).attr("width",width) // 生成svg
			const padding = {top:20,left:20,right:20,bottom:20}

			const rectStep = 35 //每个柱形的宽+空白
			const rectWidth = 30 //柱形的宽

			svg.selectAll('rect').data(dataset).enter().append('rect').attr('fill','red')
					.attr('x',(d,i)=>padding.left+i*rectStep)
					.attr('y',(d,i)=>height-padding.bottom-d)
					.attr('width',rectWidth)
					.attr('height',d=>d)


			const text = svg.selectAll('text').data(dataset).enter().append('text').attr('fill','#fff')
											.attr('font-size','14px').attr('text-anchor','middle')
											.attr('x',(d,i)=>padding.left+i*rectStep)
											.attr('y',(d,i)=>height-padding.bottom-d)
											.text(d=>d)
											.attr('dx',rectWidth/2)
											.attr('dy',"1em")
		</script>
	</body>
</html>
